import{r as p,l as B,o as i,d as u,y as M,g as x,q as v,w as k,i as f,z as D,e as s,F as T,f as V,A as b,t as A,B as F,T as N,C as q,u as C,p as $,j as g,b as z,D as R,m as E,s as I}from"./index-BuDGKe7X.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j=[{lable:"删除"}];function P(t){const n=p(0),c=p(0),l=p(!1);function d(e){e.preventDefault(),e.stopPropagation(),n.value=e.clientX,c.value=e.clientY,l.value=!0}function r(){l.value=!1}return B(()=>{const e=t.value;try{e.addEventListener("contextmenu",d),window.addEventListener("click",r,!0),e.addEventListener("contextmenu",r,!0)}catch{}}),{x:n,y:c,visible:l}}const H=["onClick"],O={__name:"menu",emits:["select"],setup(t,{emit:n}){const c=n,l=p(),{x:d,y:r,visible:e}=P(l);function o(a){e.value=!1,c("select",a)}function _(a){a.style.height=0}function h(a){a.style.height="auto";const w=a.clientHeight;a.style.height=0,requestAnimationFrame(()=>{requestAnimationFrame(()=>{a.style.height=w+"px",a.style.transition="0.5s"})})}function m(a){a.style.transition="none"}return(a,w)=>(i(),u("div",{ref_key:"contain",ref:l},[M(a.$slots,"item",{},void 0,!0),(i(),x(q,{to:"body"},[v(N,{onBeforeEnter:_,onEnter:h,onAfterEnter:m},{default:k(()=>[f(e)?(i(),u("div",{key:0,class:"menu context-menu",style:D({left:f(d)+"px",top:f(r)+"px"})},[s("ul",null,[(i(!0),u(T,null,V(f(j),(S,L)=>(i(),u("a",{href:"",key:L,onClick:b(fe=>o(S),["prevent"])},[s("li",null,A(S.lable),1)],8,H))),128))])],4)):F("",!0)]),_:1})]))],512))}},U=y(O,[["__scopeId","data-v-41ab8197"]]),X=t=>($("data-v-2e64bdf0"),t=t(),g(),t),Y={class:"item flex"},G={class:"name"},J=X(()=>s("i",{class:"iconfont icon-shanchu deleteBtn"},null,-1)),K=[J],Q={__name:"collection",props:{data:{type:Object,default:{name:"",token:""}}},emits:["del"],setup(t,{emit:n}){const c=C(),l=n,d=t;async function r(){c.setToken(d.data.token)}function e(o){o.stopPropagation(),o.preventDefault(),l("del",d.data)}return(o,_)=>(i(),x(U,{onSelect:e},{item:k(()=>[s("a",{href:"",onClick:b(r,["prevent"])},[s("div",Y,[s("div",G,A(t.data.name),1),s("div",{onClick:b(e,["stop"])},K)])])]),_:1}))}},W=y(Q,[["__scopeId","data-v-2e64bdf0"]]),Z=t=>($("data-v-41cf5c46"),t=t(),g(),t),ee={class:"flex"},te={class:"code-input"},ne={key:0,class:"link-btn"},se={key:1,class:"close"},oe=Z(()=>s("div",{class:"center"},"正在连接中...",-1)),ae={__name:"linkCode",setup(t){const n=C(),c=p(""),l=z();async function d(){n.setToken(c.value)}R(()=>n.link_state,e=>{e!=="false"&&e!=="linkpadding"&&l.push("/linkSuccess")});function r(){n.closeLink()}return(e,o)=>{const _=E("el-input"),h=E("el-button");return i(),u("form",{onSubmit:o[1]||(o[1]=(...m)=>e.submits&&e.submits(...m)),class:"code-contain"},[s("div",ee,[s("div",te,[v(_,{modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=m=>c.value=m),class:"input",type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入识别码"},null,8,["modelValue"])]),f(n).link_state=="false"?(i(),u("div",ne,[v(h,{onClick:d,class:"code-sub",color:"rgb(0,116,232)"},{default:k(()=>[I("链接")]),_:1})])):(i(),u("div",se,[oe,v(h,{class:"code-sub linkout",color:"rgb(0,116,232)",onClick:r},{default:k(()=>[I("关闭连接")]),_:1})]))])],32)}}},ce=y(ae,[["__scopeId","data-v-41cf5c46"]]),le=t=>($("data-v-30dfdd3c"),t=t(),g(),t),ie={class:"link all"},re={class:"recently-link all flex"},de=le(()=>s("div",{class:"tip"},"最近链接",-1)),ue={class:"collections wrap"},_e={__name:"index",setup(t){const n=C(),c=p(!1);function l(){c.value=!1}function d(r){n.removeToken(r.token)}return B(()=>{n.tokenList()}),(r,e)=>(i(),u("div",{class:"contain back",onClick:l},[s("div",ie,[v(ce)]),s("div",re,[de,s("div",ue,[(i(!0),u(T,null,V(f(n).tokens,(o,_)=>(i(),x(W,{data:o,key:_,onDel:d},null,8,["data"]))),128))])])]))}},ve=y(_e,[["__scopeId","data-v-30dfdd3c"]]);export{ve as default};
